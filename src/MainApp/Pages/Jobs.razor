@using MainApp.Components.Job
@using Camunda.Http.Api

@inject AppData AppData

@page "/Jobs"

<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-16">
    <MudText Typo="Typo.h3" GutterBottom="true">Jobs</MudText>
    <MudGrid>
        <MudItem xs="12">
            <MudCard>
                <MudCardHeader>
                    <CardHeaderContent>
                        Runtime
                    </CardHeaderContent>
                </MudCardHeader>
                <MudCardContent>

                    <RuntimeJobsTable Camunda="_camunda"/>

                </MudCardContent>
            </MudCard>

        </MudItem>
        <MudItem xs="12">
            <MudCard>
                <MudCardHeader>
                    <CardHeaderContent>
                        Historic Job Logs
                    </CardHeaderContent>
                </MudCardHeader>
                <MudCardContent>

                    <HistoricJobsTable Camunda="_camunda"></HistoricJobsTable>

                </MudCardContent>
            </MudCard>

        </MudItem>
        <MudItem xs="12">
            <MudCard>
                <MudCardHeader>
                    <CardHeaderContent>
                        Message Jobs (Runtime)
                    </CardHeaderContent>
                </MudCardHeader>
                <MudCardContent>

                    <RuntimeJobsTable Camunda="_camunda" MessagesOnly="true"/>

                </MudCardContent>
            </MudCard>

        </MudItem>
        <MudItem xs="12">
            <MudCard>
                <MudCardHeader>
                    <CardHeaderContent>
                        Timer Jobs (Runtime)
                    </CardHeaderContent>
                </MudCardHeader>
                <MudCardContent>

                    <RuntimeJobsTable Camunda="_camunda" TimersOnly="true"/>

                </MudCardContent>
            </MudCard>

        </MudItem>
    </MudGrid>
</MudContainer>

@code {
    CamundaClient _camunda;

    protected override void OnInitialized()
    {
        _camunda = AppData.CamundaClient;
    }

}